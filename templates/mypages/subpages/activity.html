<!DOCTYPE html>
<html lang="ja">
<head>
    <title>行動記録入力フォーム</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/form.css') }}">
</head>
<body>
    {% if result %}
        {{result | safe}}
    {% endif %}
    <div class="container">
        <div class="head">
            <h2>行動記録入力フォーム</h2>
        </div>
        <form action="#" method="post">
            <table>
            <tr>
                <td><label>開始時間:</label></td>
                <td><input type="datetime-local" name="Action_starttime" required></td>
            </tr>
            <tr>
                <td><label>終了時間:</label></td>
                <td><input type="datetime-local" name="Action_endtime" required></td>
            </tr>
            <tr>
                <td><label>場所:</label></td>
                <td><input type="text" name="Action_location" required></td>
            </tr>
            <tr>
                <td><label>移動方法:</label></td>
                <td><input type="text" name="Move_method" required></td>
            </tr>
            <tr>
                <td><label>出発地:</label></td>
                <td><input type="text" name="Departure" required></td>
            </tr>
            <tr>
                <td><label>到着地:</label></td>
                <td><input type="text" name="Arrival" required></td>
            </tr>
            <tr id="is_companion">
                <td><label>同行者:</label></td>
                <td>
                    <label>
                        <input type="radio" name="Is_companions" value="1" required>はい
                    </label>
                    <label>
                        <input type="radio" name="Is_companions" value="0" checked required>いいえ
                    </label>
                </td>
            </tr>
            <tr id="num_companion" style="display: none;">
                <td><label>間柄と人数:</label></td>
                <td><input type="text" name="Companions" required></td>
            </tr>
            <tr>
                <td><label>特記事項:</label></td>
                <td><input type="text" name="Special_notices" maxlength="50"></td>
            </tr>
        </table>
            <button type="reset">消去</button>
            <button type="submit">送信</button>
        </form>
    </div>
    <script>
        window.addEventListener("DOMContentLoaded",()=>{
            const is_companions = document.querySelectorAll("input[name=Is_companions]")
            const num_companions = document.querySelector("#num_companion");
            is_companions.forEach((elem)=>{
                elem.addEventListener("change",(e)=>{
                    if (e.target.value === "1"){
                        num_companions.style.display = "";
                        num_companions.classList.toggle("fade-in");
                    }else if(e.target.value === "0"){
                        num_companions.style.display = "none";
                        num_companions.classList.toggle("fade-in");
                    }
                })
            })
        })
    </script>
</body>
</html>
